<!doctype html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notifica Frete | Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              border: "hsl(240 3.7% 15.9%)",
              background: "hsl(240 10% 4%)",
              foreground: "hsl(0 0% 98%)",
              primary: {
                DEFAULT: "hsl(0 0% 98%)",
                foreground: "hsl(240 5.9% 10%)",
              },
              secondary: {
                DEFAULT: "hsl(240 3.7% 15.9%)",
                foreground: "hsl(0 0% 98%)",
              },
              accent: {
                DEFAULT: "hsl(240 3.7% 15.9%)",
                foreground: "hsl(0 0% 98%)",
              },
            },
            borderRadius: {
              lg: "0.5rem",
              md: "calc(0.5rem - 2px)",
              sm: "calc(0.5rem - 4px)",
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style type="text/css">
      body {
        font-family: "Inter", sans-serif;
      }
      .glass {
        background: rgba(22, 27, 34, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .tab-active {
        color: #fff;
        border-bottom: 2px solid #fff;
      }
      .toast {
        transform: translateY(200%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .toast.show {
        transform: translateY(0);
      }
    </style>
  </head>
  <body class="bg-background text-foreground min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Header -->
      <header
        class="flex flex-col md:flex-row justify-between items-center mb-10 gap-6"
      >
        <div class="space-y-1">
          <h1
            class="text-3xl font-bold tracking-tight text-white flex items-center"
          >
            Notifica<span class="text-blue-500">Frete</span>
            <span
              class="ml-3 px-2 py-0.5 text-xs bg-blue-500/10 text-blue-500 border border-blue-500/20 rounded-full uppercase tracking-wider font-semibold"
              >Live</span
            >
          </h1>
          <p class="text-sm text-zinc-400">
            Monitoramento inteligente de cargas e log√≠stica
          </p>
        </div>
        <div class="flex items-center gap-4">
          <button
            id="scrapeBtn"
            class="inline-flex items-center justify-center rounded-lg bg-green-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:pointer-events-none"
          >
            <span class="mr-2">üöÄ</span> Inicia Scraping
          </button>
        </div>
      </header>

      <main class="space-y-8">
        <!-- Stats -->
        <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="glass rounded-xl p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-12 h-12"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"
                />
                <path d="m3.3 7 8.7 5 8.7-5" />
                <path d="M12 22V12" />
              </svg>
            </div>
            <h3 class="text-sm font-medium text-zinc-400 mb-1">
              Cargas Dispon√≠veis
            </h3>
            <div class="text-4xl font-bold" id="totalCargas">0</div>
            <p class="text-xs text-zinc-500 mt-2">Atualizado em tempo real</p>
          </div>
          <div class="glass rounded-xl p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-12 h-12"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
              </svg>
            </div>
            <h3 class="text-sm font-medium text-zinc-400 mb-1">
              Novas Entradas
            </h3>
            <div class="text-4xl font-bold flex items-baseline gap-2">
              <span id="lastStats">--</span>
            </div>
            <p class="text-xs text-zinc-500 mt-2">Resumo da √∫ltima execu√ß√£o</p>
          </div>
          <div
            class="glass rounded-xl p-6 relative overflow-hidden border-green-500/20"
          >
            <div class="absolute top-0 right-0 p-4 opacity-10">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-12 h-12 text-green-500"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"
                />
                <path d="m9 12 2 2 4-4" />
              </svg>
            </div>
            <h3 class="text-sm font-medium text-zinc-400 mb-1">
              Status do Sistema
            </h3>
            <div class="text-4xl font-bold text-green-500">Operacional</div>
            <p class="text-xs text-zinc-500 mt-2 flex items-center gap-1">
              <span
                class="w-2 h-2 rounded-full bg-green-500 animate-pulse"
              ></span>
              Sincronizado com o servidor
            </p>
          </div>
        </section>

        <!-- Tabs & Content -->
        <section
          class="glass rounded-2xl overflow-hidden min-h-[500px] flex flex-col"
        >
          <div class="flex border-b border-white/10 px-6">
            <button
              class="tab-btn px-6 py-4 text-sm font-semibold border-b-2 border-transparent hover:text-white transition-all data-[active=true]:border-blue-500 data-[active=true]:text-white"
              data-tab="cargas"
              data-active="true"
            >
              Monitoramento
            </button>
            <button
              class="tab-btn px-6 py-4 text-sm font-semibold border-b-2 border-transparent hover:text-white transition-all data-[active=true]:border-blue-500 data-[active=true]:text-white"
              data-tab="logs"
              data-active="false"
            >
              Logs do Sistema
            </button>
          </div>

          <div class="p-0 flex-1 relative overflow-hidden">
            <!-- Cargas Tab -->
            <div
              class="tab-content block p-6 h-full overflow-auto"
              id="cargasTab"
            >
              <div class="rounded-lg border border-white/5 overflow-hidden">
                <table class="w-full text-left text-sm" id="cargasTable">
                  <thead
                    class="bg-white/5 text-zinc-400 font-medium border-b border-white/10 uppercase text-[10px] tracking-wider"
                  >
                    <tr>
                      <th class="px-4 py-3">ID Viagem</th>
                      <th class="px-4 py-3">Rota (Origem ‚Üí Destino)</th>
                      <th class="px-4 py-3">Equipamento</th>
                      <th class="px-4 py-3">Prev. Coleta</th>
                      <th class="px-4 py-3">Valor Frete</th>
                      <th class="px-4 py-3">Sincronizado</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-white/5">
                    <!-- Data will be injected here -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Logs Tab -->
            <div
              class="tab-content hidden p-6 h-full overflow-auto"
              id="logsTab"
            >
              <div class="space-y-2" id="logList">
                <!-- Logs will be injected here -->
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer
        class="mt-8 flex justify-between items-center text-zinc-500 text-xs px-2"
      >
        <div>&copy; 2026 Notifica Frete. Todos os direitos reservados.</div>
        <div
          class="flex items-center gap-2 glass px-3 py-1.5 rounded-full border border-white/5"
        >
          <div class="w-2 h-2 rounded-full bg-blue-500"></div>
          Pr√≥xima atualiza√ß√£o em
          <span
            id="countdown"
            class="font-mono font-bold text-white w-5 text-center"
            >30</span
          >s
        </div>
      </footer>
    </div>

    <!-- Notification Toast -->
    <div
      id="toast"
      class="toast fixed bottom-8 right-8 glass p-4 rounded-xl shadow-2xl border-l-[6px] border-green-500 z-50 max-w-sm pointer-events-none"
    >
      <div class="flex items-start gap-3">
        <div class="flex-1">
          <p class="text-sm font-semibold text-white mb-0.5" id="toastTitle">
            Sucesso
          </p>
          <p
            class="text-xs text-zinc-400 leading-relaxed"
            id="toastMessage"
          ></p>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
